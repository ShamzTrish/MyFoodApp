{"ast":null,"code":"var _jsxFileName = \"/Users/petrpospisil/Desktop/myProjects/food App/my-app/src/components/store/CartProvider.js\",\n  _s = $RefreshSig$();\nimport CartContext from \"./cartContext\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartProvider = props => {\n  _s();\n  const [itemsValue, setItemsValue] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const addItemToCartHandler = oneItem => {\n    setTotalPrice(previousState => previousState + oneItem.amount * oneItem.price);\n    const clickedItem = itemsValue.filter(oneFilteredItem => {\n      return oneFilteredItem.id === oneItem.id;\n    });\n    let finalItems = itemsValue;\n    if (clickedItem.length > 0) {\n      const findIndex = itemsValue.findIndex(oneItemIndex => {\n        return oneItemIndex.id === oneItem.id;\n      });\n      const joinItems = {\n        ...clickedItem[0],\n        amount: clickedItem[0].amount + oneItem.amount\n      };\n      finalItems[findIndex] = joinItems;\n    } else {\n      finalItems = [...itemsValue, oneItem];\n    }\n    setItemsValue(finalItems);\n  };\n  const removeItemFromCartHandler = oneItem => {\n    setTotalPrice(previousState => previousState - oneItem.price);\n    const clickedItem = itemsValue.filter(oneFilteredItemItem => {\n      return oneFilteredItemItem.id === oneItem.id;\n    });\n    let finalItems = itemsValue;\n    if (clickedItem[0].amount === 1) {\n      finalItems = itemsValue.filter(oneFilteredItem => {\n        return oneFilteredItem.id !== oneItem.id;\n      });\n    } else {\n      const findIndex = itemsValue.findIndex(oneItemIndex => {\n        return oneItemIndex.id === oneItem.id;\n      });\n      const updatedItem = {\n        ...clickedItem[0],\n        amount: clickedItem[0].amount - 1\n      };\n      finalItems[findIndex] = updatedItem;\n    }\n    setItemsValue(finalItems);\n  };\n  const clearCartHandler = () => {\n    setItemsValue([]);\n    setTotalPrice(0);\n  };\n  const cartContext = {\n    items: itemsValue,\n    totalAmount: totalPrice,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n    clearCart: clearCartHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 12\n  }, this);\n};\n_s(CartProvider, \"JbaPDptkwJ44yEZItuDrfcSeQjM=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["CartContext","useState","CartProvider","props","itemsValue","setItemsValue","totalPrice","setTotalPrice","addItemToCartHandler","oneItem","previousState","amount","price","clickedItem","filter","oneFilteredItem","id","finalItems","length","findIndex","oneItemIndex","joinItems","removeItemFromCartHandler","oneFilteredItemItem","updatedItem","clearCartHandler","cartContext","items","totalAmount","addItem","removeItem","clearCart","children"],"sources":["/Users/petrpospisil/Desktop/myProjects/food App/my-app/src/components/store/CartProvider.js"],"sourcesContent":["import CartContext from \"./cartContext\"\nimport { useState } from \"react\"\n\nconst CartProvider = (props) => {\n\n    const [ itemsValue, setItemsValue ] = useState([])\n    const [ totalPrice, setTotalPrice ] = useState(0)\n\n\n        \n\n    const addItemToCartHandler = (oneItem) => {\n\n\n        setTotalPrice((previousState) => previousState + oneItem.amount * oneItem.price)\n        \n        const clickedItem = itemsValue.filter( (oneFilteredItem) => {\n            return oneFilteredItem.id === oneItem.id\n        })\n        \n\n        let finalItems = itemsValue\n\n\n        if(clickedItem.length > 0){\n           const findIndex = itemsValue.findIndex( (oneItemIndex) => {\n                return oneItemIndex.id === oneItem.id\n            })\n            \n            const joinItems = {\n                ...clickedItem[0],\n                amount: clickedItem[0].amount + oneItem.amount\n            }\n            finalItems[findIndex] = joinItems\n        \n        } else {\n\n            finalItems = [...itemsValue, oneItem]\n        }\n\n        setItemsValue(finalItems)\n\n    }\n\n    const removeItemFromCartHandler = (oneItem) => {\n        \n        setTotalPrice((previousState) => previousState - oneItem.price)\n\n        const  clickedItem = itemsValue.filter( (oneFilteredItemItem) => {\n            return oneFilteredItemItem.id === oneItem.id\n        })\n\n        let finalItems = itemsValue\n\n        if(clickedItem[0].amount === 1){\n            finalItems = itemsValue.filter ( ( oneFilteredItem ) => {\n                return oneFilteredItem.id !== oneItem.id\n            })\n        } else {\n            const findIndex = itemsValue.findIndex( (oneItemIndex) => {\n                return oneItemIndex.id === oneItem.id\n            })\n\n            const updatedItem = {\n                ...clickedItem[0],\n                amount: clickedItem[0].amount - 1\n            }\n\n            finalItems[findIndex] = updatedItem\n        }\n        \n        setItemsValue(finalItems)\n\n    }\n\n\n    const clearCartHandler = () => {\n        setItemsValue([])\n        setTotalPrice(0)\n    }\n\n\n    const cartContext = {\n        items: itemsValue,\n        totalAmount: totalPrice,\n        addItem: addItemToCartHandler,\n        removeItem: removeItemFromCartHandler,\n        clearCart: clearCartHandler,\n    }\n \n\n    return <CartContext.Provider value={cartContext}>\n            {props.children}\n         </CartContext.Provider>\n}\n\nexport default CartProvider"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}